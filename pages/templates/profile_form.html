{% if action == 'register' %}
	
	<form id="profile-register-form" class="profile-form" method="post">
		{% csrf_token %}
		<input type="hidden" name="action" value="register">
		{% for error in form.non_field_errors %}
			<div class="invalid-feedback">{{ error }}</div>
		{% endfor %}
		<div class="row mb-2">
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
				<input type="text" id="{{ form.last_name.id_for_label }}" name="{{ form.last_name.name }}" value="{% if form.last_name.value %}{{ form.last_name.value }}{% endif %}" class="form-control {{ form.last_name.field.widget.attrs.class }}" placeholder="Иванов" required>
				{% for error in form.last_name.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
				<input type="text" id="{{ form.first_name.id_for_label }}" name="{{ form.first_name.name }}" value="{% if form.first_name.value %}{{ form.first_name.value }}{% endif %}" class="form-control {{ form.first_name.field.widget.attrs.class }}" placeholder="Иван" required>
				{% for error in form.first_name.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
		</div>
		<div class="row mb-2">
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
				<input type="text" id="{{ form.username.id_for_label }}" name="{{ form.username.name }}" value="{% if form.username.value %}{{ form.username.value }}{% endif %}" class="form-control {{ form.username.field.widget.attrs.class }}" placeholder="ivan" required>
				{% for error in form.username.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
				<input type="email" id="{{ form.email.id_for_label }}" name="{{ form.email.name }}" value="{% if form.email.value %}{{ form.email.value }}{% endif %}" class="form-control {{ form.email.field.widget.attrs.class }}" placeholder="example@domain.com" required>
				{% for error in form.email.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
		</div>
		<div class="form-group col-12 mb-2">
			<label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
				<input type="password" id="{{ form.password1.id_for_label }}" name="{{ form.password1.name }}" value="" class="form-control {{ form.password1.field.widget.attrs.class }}" placeholder="********" required>
				{% for error in form.password1.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</label>
		</div>
		<div class="form-group col-12 mb-5">
			<label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
				<input type="password" id="{{ form.password2.id_for_label }}" name="{{ form.password2.name }}" value="" class="form-control {{ form.password2.field.widget.attrs.class }}" placeholder="********" required>
				{% for error in form.password2.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</label>
		</div>
		<div id="form-footer" class="container mb-3">
			<div id="terms-to-agree" class="form-group d-flex justify-content-center mb-1">
				<div class="form-check">
					<input type="checkbox" id="{{ form.agree_to_terms.id_for_label }}" class="form-check-input border-primary" name="{{ form.agree_to_terms.name }}" value="" required>
					<label class="form-check-label" for="{{ form.agree_to_terms.id_for_label }}">{{ form.agree_to_terms.label }}</label>
				</div>
				{% for error in form.agree_to_terms.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
			<div class="container-fluid text-center">
				<button type="submit" id="profile-register-button" class="btn btn-primary px-5" disabled="">Зарегистрироваться</button>
			</div>
		</div>
	</form>

{% elif action == 'login' %}

	<form id="profile-login-form" class="profile-form" method="post">
		{% csrf_token %}
		<input type="hidden" name="action" value="login">
		{% for error in form.non_field_errors  %}
			<div class="d-block invalid-feedback">{{ error }}</div>
		{% endfor %}
		<div class="form-group col-12 mb-2">
			<label for="{{ form.username_or_email.id_for_label }}">{{ form.username_or_email.label }}</label>
			<input type="text" id="{{ form.username_or_email.id_for_label }}" name="{{ form.username_or_email.name }}" value="{% if form.username_or_email.value %}{{ form.username_or_email.value }}{% endif %}" class="form-control {{ form.username_or_email.field.widget.attrs.class }}" placeholder="ivan or example@domain.com" required>
			{% for error in form.username_or_email.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
		</div>
		<div class="form-group col-12 mb-5">
			<label for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
				<input type="password" id="{{ form.password.id_for_label }}" name="{{ form.password.name }}" value="" class="form-control {{ form.password.field.widget.attrs.class }}" placeholder="********" required>
				{% for error in form.password.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</label>
		</div>
		<div id="form-footer" class="container">
			<div class="container-fluid text-center">
				<div class="text d-flex justify-content-center">
					Еще нет аккаунта?<button type="button" id="login2register-button" class="nav-link fw-bold">Зарегистрироваться</button>
				</div>
				<button type="submit" class="btn btn-primary px-5">Войти</button>
			</div>
		</div>
	</form>

{% elif action == 'view' %}
	
	<form id="profile-view-form" class="profile-form" method="get">
		{% csrf_token %}
		<input type="hidden" name="action" value="view">
		{% for error in form.non_field_errors %}
			<div class="invalid-feedback">{{ error }}</div>
		{% endfor %}
		<div class="row mb-2">
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
				<input type="text" id="{{ form.last_name.id_for_label }}" name="{{ form.last_name.name }}" value="{% if form.last_name.value %}{{ form.last_name.value }}{% endif %}" class="form-control {{ form.last_name.field.widget.attrs.class }}" placeholder="Иванов" required>
				{% for error in form.last_name.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
				<input type="text" id="{{ form.first_name.id_for_label }}" name="{{ form.first_name.name }}" value="{% if form.first_name.value %}{{ form.first_name.value }}{% endif %}" class="form-control {{ form.first_name.field.widget.attrs.class }}" placeholder="Иван" required>
				{% for error in form.first_name.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
		</div>
		<div class="row mb-2">
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
				<input type="text" id="{{ form.username.id_for_label }}" name="{{ form.username.name }}" value="{% if form.username.value %}{{ form.username.value }}{% endif %}" class="form-control {{ form.username.field.widget.attrs.class }}" placeholder="ivan" required>
				{% for error in form.username.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
			<div class="form-group col-sm-6 col-xs-auto">
				<label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
				<input type="email" id="{{ form.email.id_for_label }}" name="{{ form.email.name }}" value="{% if form.email.value %}{{ form.email.value }}{% endif %}" class="form-control {{ form.email.field.widget.attrs.class }}" placeholder="example@domain.com" required>
				{% for error in form.email.errors %}
					<div class="invalid-feedback">{{ error }}</div>
				{% endfor %}
			</div>
		</div>
		<div id="form-footer" class="container mb-3">
			<div class="container-fluid text-center">
				<button type="button" id="profile-edit-button" class="btn btn-primary px-5" disabled="">Редактировать</button>
				<div class="text d-flex justify-content-center">
					<button type="button" id="logout-button" class="nav-link fw-bold">Выйти</button>
				</div>
			</div>
		</div>
	</form>
	<div class="row">
		<!-- кнопка выхода -->
	</div>

{% elif action == 'edit' %}
	
	<form id="profile-edit-form" class="profile-form" method="post">
		{% csrf_token %}
		<input type="hidden" name="action" value="edit">
			
	</form>

{% else %}
	
	<div class="container text-center text-primary">
		<p>
			Проблема с получением данных,<br>повторите попытку позже.
		</p>
	</div>

{% endif %}